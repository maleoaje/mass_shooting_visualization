<!DOCTYPE html>
<html>
    <head>
        
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/data.js"></script>
        <script src="https://code.highcharts.com/modules/drilldown.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/modules/export-data.js"></script>
        <script src="https://code.highcharts.com/modules/accessibility.js"></script>
        <script src="https://code.highcharts.com/maps/highmaps.js"></script>
        <script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
        <script src="https://code.highcharts.com/maps/highmaps.js"></script>
        <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
        <script src="https://code.highcharts.com/maps/modules/map.js"></script>
        <link rel="stylesheet" href="/style.css">
        <script src="https://code.highcharts.com/highcharts.js"></script>
    </head>

    <body>


        <div id="container" style="width:100%; height:400px;"></div>
       <center> <p class="highcharts-description">
            A collection of indiscriminate rampages in public places resulting in four or more victims killed by the attacker. It excludes shootings stemming from more conventional crimes such as armed robbery or gang violence.
        </p></center>
       <br><br><br><br>
        <figure class="highcharts-figure">
            <div id="container2"></div>
            <center><p class="highcharts-description2">
                This pie chart shows the gender disparity of mass shooters, from the pie chart you can see most of the perpetrator are male.
            </p></center>
        </figure>
        <br><br><br><br>
        <figure class="highcharts-figure3">
            <div id="container3"></div>
            <center><p class="highcharts-description">
                This pie chart shows the races of mass shooters in the United States
            </p></center>
        </figure>


        <br><br><br><br>
        <div id="container4" style="width:100%; height:500px;"></div>

    </body>

    <!-- gender pie chart -->
<script>
    Highcharts.chart('container2', {
    chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: 'pie'
    },
    title: {
        text: 'Gender ratio of Mass shooters'
    },
    tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
    },
    accessibility: {
        point: {
            valueSuffix: '%'
        }
    },
    plotOptions: {
        pie: {
            allowPointSelect: true,
            cursor: 'pointer',
            dataLabels: {
                enabled: false
            },
            showInLegend: true
        }
    },
    series: [{
        name: 'Gender',
        colorByPoint: true,
        data: [{
            name: 'Male (128)',
            y: 96.2,
            sliced: true,
            selected: true
        },  {
            name: 'Female (3)',
            y: 2.3
        },  {
            name: 'Male & Female (2)',
            y: 1.5
        }, ]
    }]
});
</script>

<!-- Clickable Bar chart -->
    <script>document.addEventListener('DOMContentLoaded', function () {
        Highcharts.chart('container', {
    chart: {
        type: 'column'
    },
    title: {
        align: 'left',
        text: 'Mass shootings occurring in the US from 1980-2022'
    },
    subtitle: {
        align: 'left',
        text: 'Click the columns to view more details. Source: <a href="https://data.world/awram/us-mass-shootings" target="_blank">data.world</a>'
    },
    accessibility: {
        announceNewData: {
            enabled: true
        }
    },
    xAxis: {
        type: 'category'
    },
    yAxis: {
        title: {
            text: 'Total victims'
        }

    },
    legend: {
        enabled: false
    },
    plotOptions: {
        series: {
            borderWidth: 0,
            dataLabels: {
                enabled: true,
                
            }
        }
    },

    tooltip: {
        headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y}</b> of total<br/>'
    },

    series: [
        {
            name: "Shootings",
            colorByPoint: true,
            data: [
                {
                    name: "1980-1990",
                    y: 181,
                    drilldown: "1980-1990"
                },
                {
                    name: "1991-2000",
                    y: 338,
                    drilldown: "1991-2000"
                },
                {
                    name: "2001-2010",
                    y: 305,
                    drilldown: "2001-2010"
                },
                {
                    name: "2011-2020",
                    y: 1576,
                    drilldown: "2011-2020"
                },
                {
                    name: "2021-2022",
                    y: 179,
                    drilldown: "2021-2022"
                },
            ]
        }
    ],
    drilldown: {
        breadcrumbs: {
            position: {
                align: 'right'
            }
        },
        series: [
            {
                name: "1980-1990",
                id: "1980-1990",
                data: [
                    [
                        "1982",
                        11
                    ],
                    [
                        "1984",
                        48
                    ],
                    [
                        "1986",
                        21
                    ],
                    [
                        "1987",
                        20
                    ],
                    [
                        "1988",
                        11
                    ],
                    [
                        "1989",
                        56
                    ],
                    [
                        "1990",
                        14
                    ],
                ]
            },
            {
                name: "1991-2000",
                id: "1991-2000",
                data: [
                    [
                        "1991",
                        61
                    ],
                    [
                        "1992",
                        19
                    ],
                    [
                        "1993",
                        57
                    ],
                    [
                        "1994",
                        28
                    ],
                    [
                        "1995",
                        6
                    ],
                    [
                        "1996",
                        7
                    ],
                    [
                        "1997",
                        14
                    ],
                    [
                        "1998",
                        50
                    ],
                    [
                        "1999",
                        89
                    ],
                    [
                        "2000",
                        7
                    ]
                ]
            },
            {
                name: "2001-2010",
                id: "2001-2010",
                data: [
                    [
                        "2001",
                        9
                    ],
                    [
                        "2003",
                        15
                    ],
                    [
                        "2004",
                        12
                    ],
                    [
                        "2005",
                        26
                    ],
                    [
                        "2006",
                        28
                    ],
                    [
                        "2007",
                        85
                    ],
                    [
                        "2008",
                        41
                    ],
                    [
                        "2009",
                        78
                    ],
                    [
                        "2010",
                        11
                    ],
                ]
            },
            {
                name: "2011-2020",
                id: "2011-2020",
                data: [
                    [
                        "2011",
                        40
                    ],
                    [
                        "2012",
                        151
                    ],
                    [
                        "2013",
                        48
                    ],
                    [
                        "2014",
                        46
                    ],
                    [
                        "2015",
                        89
                    ],
                    [
                        "2016",
                        154
                    ],
                    [
                        "2017",
                        704
                    ],
                    [
                        "2018",
                        150
                    ],
                    [
                        "2019",
                        185
                    ],
                    [
                        "2020",
                        9
                    ],
                ]
            },
            {
                name: "2021-2022",
                id: "2021-2022",
                data: [
                    [
                        "2021",
                        59
                    ],
                    [
                        "2022",
                        120
                    ],
                ]
            },
            
        ]
    }
});
    });</script>


<!-- Race Pie Chart -->

<script>
    // Data retrieved from https://netmarketshare.com/
// Build the chart
Highcharts.chart('container3', {
    chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: 'pie'
    },
    title: {
        text: 'Race ratio of Mass shooters'
    },
    tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
    },
    accessibility: {
        point: {
            valueSuffix: '%'
        }
    },
    plotOptions: {
        pie: {
            allowPointSelect: true,
            cursor: 'pointer',
            dataLabels: {
                enabled: false
            },
            showInLegend: true
        }
    },
    series: [{
        name: 'Race',
        colorByPoint: true,
        data: [{
            name: 'Asain',
            y: 6,
            sliced: true,
            selected: true
        },  {
            name: 'Black',
            y: 16.5
        },  {
            name: 'Latino',
            y: 8.3
        }, 
         {
            name: 'Native American',
            y: 8.3
        },  {
            name: 'Other',
            y: 8.3
        },  {
            name: 'Unclear',
            y: 8.3
        },  
        ]
    }]
});

</script>

<!-- Map chart -->
<script>
    (async () => {

const topology = await fetch(
    'https://code.highcharts.com/mapdata/countries/us/us-all.topo.json'
).then(response => response.json());


const data = [
    ['us-ma', 7], ['us-wa', 106], ['us-ca', 401], ['us-or', 89],
    ['us-wi', 53], ['us-me', 0], ['us-mi', 48], ['us-nv', 61],
    ['us-nm', 0], ['us-co', 63], ['us-wy', 20], ['us-ks', 12],
    ['us-ne', 5], ['us-ok', 20], ['us-mo', 609], ['us-il', 89],
    ['us-in', 18], ['us-vt', 0], ['us-ar', 11], ['us-tx', 139],
    ['us-ri', 0], ['us-al', 7], ['us-ms', 5], ['us-nc', 50],
    ['us-va', 0], ['us-ia', 5], ['us-md', 59], ['us-de', 0],
    ['us-pa', 51], ['us-nj', 12], ['us-ny', 58], ['us-id', 0],
    ['us-sd', 0], ['us-ct', 169], ['us-nh', 0], ['us-ky', 8],
    ['us-oh', 27], ['us-tn', 19], ['us-wv', 0], ['us-dc', 0],
    ['us-la', 11], ['us-fl', 172], ['us-ga', 52], ['us-sc', 58],
    ['us-mn', 46], ['us-mt', 0], ['us-nd', 0], ['us-az', 16],
    ['us-ut', 3], ['us-hi', 8], ['us-ak', 0]
];

// Create the chart
Highcharts.mapChart('container4', {
    chart: {
        map: topology
    },

    title: {
        text: 'Map distribution of victims of mass shootings'
    },

    subtitle: {
        text: 'Source map: <a href="http://code.highcharts.com/mapdata/countries/us/us-all.topo.json">United States of America</a>'
    },

    mapNavigation: {
        enabled: true,
        buttonOptions: {
            verticalAlign: 'bottom'
        }
    },

    colorAxis: {
        min: 0
    },

    series: [{
        data: data,
        name: 'Victims',
        states: {
            hover: {
                color: '#BADA55'
            }
        },
        dataLabels: {
            enabled: true,
            format: '{point.name}'
        }
    }]
});

})();

</script>

</html>



